<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>AFE Firmware</title>
    <style>body {
        margin: 0
    }

    #c {
        display: table;
        width: 100%
    }

    #l, #r {
        display: table-cell
    }

    #l {
        width: 300px;
        background: #282828;
        padding: 20px;
        color: #eee
    }

    #r {
        padding: 20px
    }

    p, a, input, h1, h3, h4, span, label, button {
        font-family: sans-serif
    }

    a {
        text-decoration: none
    }

    .ltit, .ltag {
        margin: 0
    }

    .ltag {
        font-weight: 300;
        color: #b0cadb;
        margin-bottom: 20px
    }

    .lst {
        list-style: none;
        margin: 0;
        padding: 0
    }

    .itm a {
        display: block;
        text-decoration: none;
        white-space: nowrap;
        padding: .2em 1em;
        color: #777;
        font-size: 95%
    }

    .itm a:hover, .itm a:focus {
        background-color: #eee;
        text-decoration: none;
        padding: .2em 1.5em;
        color: #000
    }

    .ci {
        margin-bottom: 2em
    }

    .ci h1 {
        color: #aaa;
        border-bottom: 1px solid #eee;
        font-size: 110%;
        font-weight: 500;
        letter-spacing: .1em
    }

    .ci .cd {
        color: #444;
        line-height: 1.8em;
        font-size: 80%;
        font-style: italic
    }

    .cm {
        color: #999;
        font-size: 90%;
        margin: 0 0 20px 0
    }

    .la {
        margin: 0 .1em;
        padding: .3em 1em;
        color: #fff;
        background: #999;
        font-size: 80%
    }

    .lr {
        background: #ca3c3c
    }

    .lg {
        background: #2fb548
    }

    fieldset {
        margin: 0;
        padding: .35em 0 .75em;
        border: 0
    }

    .cf {
        margin-bottom: .5em
    }

    .cc {
        margin: 1em 0 .5em 9.4em
    }

    .cf label {
        text-align: right;
        display: inline-block;
        vertical-align: middle;
        width: 10em;
        margin: 0 1em 0 0;
        font-size: .875em
    }

    .cc label {
        font-size: .875em
    }

    input, select {
        padding: .5em .6em;
        display: inline-block;
        border: 1px solid #ccc;
        vertical-align: middle;
        box-sizing: border-box
    }

    .hint {
        display: inline-block;
        padding-left: .3em;
        color: #aaa;
        vertical-align: middle;
        font-size: 80%
    }

    .b {
        font-size: 100%;
        padding: .5em 1em;
        border: 1px solid #999;
        border: none rgba(0, 0, 0, 0);
        text-decoration: none;
        color: white
    }

    .bs {
        background: #2fb548
    }

    .be {
        background: #ca3c3c
    }

    .bw {
        background: #df7514
    }

    .bc {
        background: #42b8dd
    }

    .b:hover, .b:focus {
        filter: alpha(opacity=90);
        background-image: -webkit-linear-gradient(transparent, rgba(0, 0, 0, 0.05) 40%, rgba(0, 0, 0, 0.10));
        background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.05) 40%, rgba(0, 0, 0, 0.10))
    }</style>
    <script type="text/javascript">hide = function (e) {
        document.getElementById(e).style.display = 'none';
    };
    show = function (e) {
        document.getElementById(e).style.display = 'inline';
    };</script>
</head>
<body>
<div id="c">
    <div id="l"><h3 class="ltit">AFE FIRMWARE</h3><h4 class="ltag">dla urządzeń zbudowanych o ESP8266</h4><h4>MENU</h4>
        <ul class="lst">
            <li class="itm"><a href="#dev-name">Konfiguracja urządzenia</a></li>
            <li class="itm"><a href="#wifi">Połącznie WiFi</a></li>
            <li class="itm"><a href="#mqtt">MQTT Broker</a></li>
            <li class="itm"><a href="#domoticz">Domoticz</a></li>
            <li class="itm"><a href="#relay-1">Przekaźnik 1</a></li>
            <li class="itm"><a href="#relay-2">Przekaźnik 2</a></li>
            <li class="itm"><a href="#ds18b20">Czujnik DS18B20</a></li>
            <li class="itm"><a href="#switch">Zewnętrzny włącznik</a></li>
            <li class="itm"><a href="update">Aktulizacja</a></li>
            <li class="itm"><a href="reset">Przywracanie ustawień</a></li>
            <br><br>
            <li class="itm"><a href="exit">Zakończ konfigurację</a></li>
        </ul>
        <br><br><h4>INFORMACJE</h4>
        <ul class="lst">
            <li class="itm"><a href="http://smart-house.adrian.czabanowski.com/firmware-sonoff/" target="_blank">Dokumentacja</a>
            </li>
            <li class="itm"><a href="http://smart-house.adrian.czabanowski.com/forum/firmware-do-przelacznika-sonoff/"
                               target="_blank">Pomoc</a></li>
            <li class="itm"><a href="https://github.com/tschaban/AFE-Firmware/blob/master/LICENSE" target="_blank">Licencja</a>
            </li>
            <li class="itm"><a href="http://smart-house.adrian.czabanowski.com/firmware-sonoff/historia-zmian/"
                               target="_blank">Wersja 1.0.0</a></li>
        </ul>
    </div>
    <div id="r">
        <div class="ci"><a name="#dev-name"></a>

            <h1>Nazwa urządzenia</h1>

            <p class="cm"><span class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">Nazwa jest wykorzystywana jako nazwa hosta w Twojej lokalnej sieci WiFi oraz jako nazwa punktu
                dostępowego WiFi dla konfiguracji urządzenia</p>
            <fieldset>
                <div class="cf"><label>Nazwa urządzenia</label><input name="device_name" type="text" maxlength="32"
                                                                      value="SONOFF_12345678"><span class="hint">Max 32 znaki. Informacja wymagana</span>
                </div>
            </fieldset>
        </div>
        <div class="ci"><a name="#wifi"></a>

            <h1>Konfiguracja dostępu do sieci WiFi</h1>

            <p class="cm"><span class="la lg">Konfiguracja opcjonalna</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">Urządzenie bez skonfigurowanej sieci WiFi będzie działać tylko w trybie sterowania
                ręcznego</p>
            <fieldset>
                <div class="cf"><label>Nazwa sieci WiFI</label><input name="wifi_name" type="text" maxlength="32"><span
                        class="hint">Max 32 znaków. Informacja wymagana</span></div>
                <div class="cf"><label>Hasło</label><input type="password" name="wifi_password" maxlength="16"><span
                        class="hint">Max 16 znaków.</span></div>
            </fieldset>
        </div>
        <div class="ci"><a name="#relay-1"></a>

            <h1>Przekaźnik</h1>

            <p class="cm"><span class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">Przekaźnik musi miec nadaną nazwę np. lampa. Nazwa przekaźnika definiuje dedykowany temat MQTT
                dla przekaźnika z tematu zdefiniowanego w sekcji MQTT broker oraz poniżej nazwy. np /sonoff/lampa/</p>
            <fieldset>
                <div class="cc"><label><input name="Internal_relay_present" type="checkbox"> Włączony?</label></div>
                <div class="cf"><label>GPIO</label><select name="switch_gpio">
                    <option value="0">GPIO0</option>
                    <option value="1" selected="selected">GPIO1</option>
                    <option value="2">GPIO2</option>
                    <option value="3">GPIO3</option>
                    <option value="4">GPIO4</option>
                    <option value="5">GPIO5</option>
                    <option value="6">GPIO6</option>
                    <option value="7">GPIO7</option>
                    <option value="8">GPIO8</option>
                    <option value="9">GPIO9</option>
                    <option value="10">GPIO10</option>
                    <option value="11">GPIO11</option>
                    <option value="12">GPIO12</option>
                    <option value="13">GPIO13</option>
                    <option value="14">GPIO14</option>
                    <option value="15">GPIO15</option>
                    <option value="16">GPIO16</option>
                </select></div>
                <div class="cf"><label>Nazwa</label><input name="internal_relay_name" type="text" maxlength="16"
                                                           value="przekaznik"><span class="hint">Informacja wymagana. Max 16 znaków</span>
                </div>
                <p class="cd">Zachowanie się przekaźnia po przywróceniu zasilania lub ponownego podłączenia się do
                    brokera MQTT (tyko dla sterowania przez MQTT)</p>

                <div class="cf"><label>Przywrócenie zasilania</label><select name="internal_relay_power_restored">
                    <option value="0">Wyłączony</option>
                    <option value="1">Włączony</option>
                    <option value="2">Ostatnia zapamiętana wartość</option>
                </select></div>
                <div class="cf"><label>Włączony do MQTT</label><select>
                    <option value="0">Wyłączony</option>
                    <option value="1">Włączony</option>
                    <option value="2">Ostatnia zapamiętana wartość</option>
                    <option value="3">Wartość z systemu sterowania</option>
                </select></div>
            </fieldset>
        </div>
        <div class="ci"><a name="#mqtt"></a>

            <h1>MQTT Broker</h1>

            <p class="cm"><span class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">Urządzenie bez skonfigurowanego MQTT Brokera może być sterowany tylko ręcznie</p>
            <fieldset>
                <div class="cf"><label>Adres lub IP serwera</label><input name="mqtt_host" type="text"
                                                                          maxlength="32"><span class="hint">Informacja jest wymagana. Max 32 znaki</span>
                </div>
                <div class="cf"><label>Port</label><input name="mqtt_port" type="number" value="1883"
                                                          maxlength="5"><span
                        class="hint">Informacja jest wymagana</span></div>
                <div class="cf"><label>Użytkownik</label><input name="mqtt_user" type="number" maxlength="16"><span
                        class="hint">Max 16 znaki</span></div>
                <div class="cf"><label>Hasło</label><input name="mqtt_password" type="password" maxlength="16"><span
                        class="hint">Max 16 znaki</span></div>
                <div class="cf"><label>Temat wiadomości</label><input name="mqtt_topic" type="text" value="/sonoff/"
                                                                      maxlength="32"><span class="hint">Informacja jest wymagana. Format: /abc/def/. Max 32 znaki.</span>
                </div>
            </fieldset>
        </div>
        <div class="ci"><a name="#domoticz"></a>

            <h1>Serwer Domoticz</h1>

            <p class="cm"><span class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">Konfiguracja wymagana jest jedynie kiedy jest potrzeba wysyłania stanu przekaźnika do serwera
                Domoticz</p>
            <fieldset>
                <div class="cf"><label>IP serwera</label><input name="domoticz_ip1" type="number" maxlength="3"
                                                                style="width:70px">.<input name="domoticz_ip2"
                                                                                           type="number" maxlength="3"
                                                                                           style="width:70px">.<input
                        name="domoticz_ip3" type="number" maxlength="3" style="width:70px">.<input name="domoticz_ip4"
                                                                                                   type="number"
                                                                                                   maxlength="3"
                                                                                                   style="width:70px">.<span
                        class="hint">Informacja wymagana</span></div>
                <div class="cf"><label>Port</label><input name="domoticz_port" type="number" value="8080" maxlength="5"><span
                        class="hint">Informacja wymagana</span></div>
                <div class="cf"><label>IDX urządzenia</label><input name="domoticz_device_idx" type="number"><span
                        class="hint">Informacja wymagana. Do odczytania z konfiguracji Domoticz</span></div>
            </fieldset>
        </div>
        <div class="ci"><a name="#ds18b20"></a>

            <h1>Czujnik temperatury DS18B20</h1>

            <p class="cm"><span class="la lg">Konfiguracja opcjonalna</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">DS18B20 jest obsługiwanym czujnikiem temperatury. Możliwe jest podłaczenie tylko jednego
                czujnika temperatury</p>
            <fieldset>
                <div class="cc"><label><input name="ds18b20_present" type="checkbox"> Włączony?</label></div>
                <div class="cf"><label>GPIO</label><select name="switch_gpio">
                    <option value="0">GPIO0</option>
                    <option value="1" selected="selected">GPIO1</option>
                    <option value="2">GPIO2</option>
                    <option value="3">GPIO3</option>
                    <option value="4">GPIO4</option>
                    <option value="5">GPIO5</option>
                    <option value="6">GPIO6</option>
                    <option value="7">GPIO7</option>
                    <option value="8">GPIO8</option>
                    <option value="9">GPIO9</option>
                    <option value="10">GPIO10</option>
                    <option value="11">GPIO11</option>
                    <option value="12">GPIO12</option>
                    <option value="13">GPIO13</option>
                    <option value="14">GPIO14</option>
                    <option value="15">GPIO15</option>
                    <option value="16">GPIO16</option>
                </select></div>
                <div class="cf"><label>Odczyty co</label><input name="ds18b20_interval" type="number" value="600"
                                                                maxlength="5"><span class="hint">sekund. Zakres 10sek do 99999sek</span>
                </div>
                <div class="cf"><label>Korekta wartości o</label><input name="ds18b20_correction" type="number"
                                                                        value="0" maxlength="6"><span class="hint">stopni. Zakres -9.99 do 9.99, </span>
                </div>
            </fieldset>
        </div>
        <div class="ci"><a name="#relay-2"></a>

            <h1>Konfiguracja dodatkowego przekaźnika</h1>

            <p class="cm"><span class="la lg">Konfiguracja opcjonalna</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">Każdy dodatkowy przekaźnik powinnien mieć unikalną nazwę. Nazwa przekaźnika jest częścio
                tematu MQTT. np /esp/nazwa_przekaznika/</p>
            <fieldset>
                <div class="cc"><label><input name="external_relay_present" type="checkbox"> Włączony?</label></div>
                <div class="cf"><label>GPIO</label><select name="switch_gpio">
                    <option value="0">GPIO0</option>
                    <option value="1" selected="selected">GPIO1</option>
                    <option value="2">GPIO2</option>
                    <option value="3">GPIO3</option>
                    <option value="4">GPIO4</option>
                    <option value="5">GPIO5</option>
                    <option value="6">GPIO6</option>
                    <option value="7">GPIO7</option>
                    <option value="8">GPIO8</option>
                    <option value="9">GPIO9</option>
                    <option value="10">GPIO10</option>
                    <option value="11">GPIO11</option>
                    <option value="12">GPIO12</option>
                    <option value="13">GPIO13</option>
                    <option value="14">GPIO14</option>
                    <option value="15">GPIO15</option>
                    <option value="16">GPIO16</option>
                </select></div>
                <div class="cf"><label>Nazwa</label><input name="external_relay_name" type="text" value="przekaznik-1"
                                                           maxlength="16"><span class="hint">Informacja jest wymagana. Tylko litery i cyfry. Max 16 znaki</span>
                </div>
                <p class="cd">Zachowanieprzekaźnia po przywróceniu zasilania lub ponownego podłączenia się do brokera
                    MQTT</p>

                <div class="cf"><label>Przywrócenie zasilania</label><select name="external_relay_power_restored">
                    <option value="0">Wyłączony</option>
                    <option value="1">Włączony</option>
                    <option value="2">Ostatnia zapamiętana wartość</option>
                </select></div>
                <div class="cf"><label>Włączony do MQTT</label><select name="external_relay_mqtt_connected">
                    <option value="0">Wyłączony</option>
                    <option value="1">Włączony</option>
                    <option value="2">Ostatnia zapamiętana wartość</option>
                    <option value="3">Wartość z systemu sterowania</option>
                </select></div>
            </fieldset>
        </div>
        <div class="ci"><a name="#switch"></a>

            <h1>Zewnętrzny włącznik</h1>

            <p class="cm"><span class="la lg">Konfiguracja opcjonalna</span><span
                    class="la lr">Wymagana konfigurcja</span><span class="la lr">Wymagana konfigurcja</span><span
                    class="la lr">Wymagana konfigurcja</span></p>

            <p class="cd">Zewnętrzny przełącznik steruje tylko wbudowanym przekaźnikiem. Ustawienie czułości włącznika
                należy ustawić pod indywidulane potrzeby. Wysoka czułości może powodować, że przekaźnik może zmieniać
                swój stan nadmiernie dla niektórych włączników</p>
            <fieldset>
                <div class="cc"><label><input name="switch_present" type="checkbox"> Włączony?</label></div>
                <div class="cf"><label>GPIO</label><select name="switch_gpio">
                    <option value="0">GPIO0</option>
                    <option value="1" selected="selected">GPIO1</option>
                    <option value="2">GPIO2</option>
                    <option value="3">GPIO3</option>
                    <option value="4">GPIO4</option>
                    <option value="5">GPIO5</option>
                    <option value="6">GPIO6</option>
                    <option value="7">GPIO7</option>
                    <option value="8">GPIO8</option>
                    <option value="9">GPIO9</option>
                    <option value="10">GPIO10</option>
                    <option value="11">GPIO11</option>
                    <option value="12">GPIO12</option>
                    <option value="13">GPIO13</option>
                    <option value="14">GPIO14</option>
                    <option value="15">GPIO15</option>
                    <option value="16">GPIO16</option>
                </select></div>
                <div class="cf"><label>Typ</label><select name="switch_type">
                    <option value="0">Mono-stabilny</option>
                    <option value="1">Bi-stabilny</option>
                </select></div>
                <div class="cf"><label>Czułość</label><select name="switch_sensitivity">
                    <option value="0">Niska</option>
                    <option value="1">Średnia</option>
                    <option value="2">Wysoka</option>
                </select></div>
            </fieldset>
        </div>
    </div>
</body>
</html>