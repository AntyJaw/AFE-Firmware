<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFE Firmware</title>
    <link rel="stylesheet" href="style.min.css">
    <script type="text/javascript">
        hide=function(e){document.getElementById(e).style.display = 'none';};
        show=function(e){document.getElementById(e).style.display = 'inline';};
    </script>
</head>
<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <h2 class="brand-title">AFE Firmware</h2>
            <h3 class="brand-tagline">dla urządzeń zbudowanych o ESP8266</h3>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="http://smart-house.adrian.czabanowski.com/firmware-sonoff/" target="_blank">Dokumentacja</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://smart-house.adrian.czabanowski.com/forum/" target="_blank">Forum</a>
                    </li>
                </ul>
            </nav>

            <br>


            <div class="pure-menu custom-restricted-width">
                <span class="pure-menu-heading">MENU</span>

                <ul class="pure-menu-list">
                    <li class="pure-menu-item"><a href="#devicename" class="pure-menu-link">Nazwa</a></li>
                    <li class="pure-menu-item"><a href="#devicemode" class="pure-menu-link">MQTT Broker</a></li>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Domoticz</a></li>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Czujnik</a></li>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">GPIO</a></li>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Aktulizacja</a></li>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Przywracanie ustawień</a></li>
                    <br><br>
                    <li class="pure-menu-item"><a href="#" class="pure-menu-link">Zakończ konfigurację</a></li>
                </ul>
            </div>


        </div>

    </div>

    <div class="content pure-u-1 pure-u-md-3-4">

            <form>

            <!-- Device name -->
            <div class="posts">
                <a name="devicename"></a>
                <h1 class="content-subhead">Nazwa urządzenia</h1>
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <span class="post-category post-category-js">Wymagana konfigurcja</span>
                        </p>
                    </header>
                    <div class="post-description">
                        <p>Nazwa jest wykorzystywana jako nazwa hosta w Twojej lokalnej sieci WiFi oraz jako nazwa punktu dostępowego WiFi dla konfiguracji urządzenia</p>
                        <div class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="device_name">Nazwa urządzenia</label>
                                    <input id="device_name"name="device_name" type="text" maxlength="32" value="SONOFF_12345678">
                                    <span class="pure-form-message-inline">Max 32 znaki. Informacja wymagana</span>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Controlling mode -->
            <div class="posts">
                <a name="devicemode"></a>
                <h1 class="content-subhead">Tryb sterowania urządzeniem </h1>
                <!-- A single blog post -->
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category post-category-js" href="#">Wymagana konfiguracja</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p>Dostępne jest sterowanie ręczne poprzez wbudowany lub zewnętrzny włącznik lub zdalne z wykorzystaniem protokołu MQTT lub HTTP </p>
                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="controlling_mode">Sterowanie</label>
                                    <select name="controlling_mode" id="controlling_mode"
                                            onchange="document.getElementById('controlling_mode').value==0?hide('MQTTConfig'):show('MQTTConfig');">
                                        <option value="0">Ręczne</option>
                                        <option value="1">MQTT</option>
                                        <option value="2">HTTP</option>
                                    </select>
                                </div>
                            </fieldset>
                        </form>


                    </div>
                </section>
            </div>

            <!-- WiFi -->
            <div class="posts">
                <h1 class="content-subhead">Konfiguracja dostępu do sieci WiFi</h1>
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category" href="#">Tylko dla sterowania zdalnego</a><a class="post-category post-category-js" href="#">Wymagana konfiguracja</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p>Urządzenie bez skonfigurowanej sieci WiFi będzie działać tylko w trybie sterowania ręcznego</p>

                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="wifi_ssid">Nazwa sieci WiFI</label>
                                    <input id="wifi_ssid" type="text" placeholder="Nazwa">
                                    <span class="pure-form-message-inline">Informacja wymagana</span>
                                </div>

                                <div class="pure-control-group">
                                    <label for="wifi_password">Hasło</label>
                                    <input id="wifi_password" type="password" placeholder="Hasło">
                                </div>


                            </fieldset>
                        </form>


                    </div>
                </section>
            </div>

            <!-- Internal Relay -->
            <div class="posts">
                <h1 class="content-subhead">Wbudowany przekaźnik</h1>
                <!-- A single blog post -->
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category post-category-design" href="#">Konfiguracja opcjonalna</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p>Przekaźnik musi miec nadaną nazwę np. lampa. Nazwa przekaźnika definiuje dedykowany temat MQTT dla przekaźnika z tematu zdefiniowanego w sekcji MQTT broker oraz poniżej nazwy. np /sonoff/lampa/</p>

                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="internal_relay_name">Nazwa</label>
                                    <input id="internal_relay_name" type="text" value="przekaznik">
                                    <span class="pure-form-message-inline">Informacja wymagana dla sterowania MQTT</span>
                                </div>
                                <p>Zachowanie się przekaźnia po przywróceniu zasilania lub ponownego podłączenia się do brokera MQTT (tyko dla sterowania przez MQTT)</p>
                                <div class="pure-control-group">
                                    <label for="internal_relay_power_restored" class="pure-checkbox">Przywrócenie zasilania</label>
                                    <select id="internal_relay_power_restored">
                                        <option value="0">Wyłączony</option>
                                        <option value="1">Włączony</option>
                                        <option value="2" selected="selected">Ostatnia zapamiętana wartość</option>
                                    </select>
                                </div>
                                <div class="pure-control-group">
                                    <label for="internal_relay_mqtt_connected" class="pure-checkbox">Podłączony do MQTT</label>
                                    <select id="internal_relay_mqtt_connected">
                                        <option value="0">Wyłączony</option>
                                        <option value="1">Włączony</option>
                                        <option value="2" selected="selected">Ostatnia zapamiętana wartość</option>
                                        <option value="3">Wartość z systemu sterowania</option>
                                    </select>
                                </div>

                            </fieldset>
                        </form>

                    </div>
                </section>
            </div>

            <!-- MQTT Broker -->
            <div class="posts" id="MQTTConfig">
                <h1 class="content-subhead">MQTT Broker</h1>

                <!-- A single blog post -->
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category" href="#">Tylko dla sterowania MQTT</a><a  class="post-category post-category-js" href="#">Wymagana konfiguracja</a>
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Urządzenie bez skonfigurowanej sieci WiFi będzie działać tylko w trybie sterowania ręcznego</p>

                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="mqtt_host">Adres lub IP serwera</label>
                                    <input id="mqtt_host" type="text" placeholder="Nazwa hosta / adres IP">
                                    <span class="pure-form-message-inline">Informacja jest wymagana.</span>
                                </div>

                                <div class="pure-control-group">
                                    <label for="mqtt_port">Port</label>
                                    <input id="mqtt_port" type="number" value="1883">
                                    <span class="pure-form-message-inline">Informacja jest wymagana.</span>
                                </div>

                                <div class="pure-control-group">
                                    <label for="mqtt_user">Użytkownik</label>
                                    <input id="mqtt_user" type="number" placeholder="Użytkownik">
                                </div>

                                <div class="pure-control-group">
                                    <label for="mqtt_password">Hasło</label>
                                    <input id="mqtt_password" type="number" placeholder="Hasło">
                                </div>

                                <div class="pure-control-group">
                                    <label for="mqtt_topic">Temat wiadomości</label>
                                    <input id="mqtt_topic" type="text" value="/sonoff/">
                                    <span class="pure-form-message-inline">Informacja jest wymagana. Format: /abc/def/</span>
                                </div>
                            </fieldset>
                        </form>


                    </div>
                </section>
            </div>

            <!-- Domoticz -->
            <div class="posts">
                <h1 class="content-subhead">Serwer Domoticz </h1>

                <!-- A single blog post -->
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category post-category-yui" href="#">Tylko dla Domoticz</a><a class="post-category" href="#">Dla dla sterowania HTTP</a>
                            <a class="post-category post-category-design" href="#">Konfiguracja opcjonalna</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p>Konfiguracja jest konieczna tylko w przypadku kiedy urządzeniem steruje się również ręcznie i konieczne jest informowanie Domoticz o takich zdarzeniach</p>
                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="domoticz_host">Adres lub IP serwera</label>
                                    <input id="domoticz_host" type="text" placeholder="np: http://192.168.1.10">
                                    <span class="pure-form-message-inline">Informacja wymagana</span>
                                </div>
                                <div class="pure-control-group">
                                    <label for="domoticz_port">Port</label>
                                    <input id="domoticz_port" type="number" value="8080">
                                    <span class="pure-form-message-inline">Informacja wymagana</span>
                                </div>
                                <div class="pure-control-group">
                                    <label for="domoticz_device_idx">IDX urządzeniaz</label>
                                    <input id="domoticz_device_idx" type="number">
                                    <span class="pure-form-message-inline">Informacja wymagana. Do odczytania z konfiguracji Domoticz</span>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </section>
            </div>

            <!-- GPIOs -->
            <div class="posts">
                <h1 class="content-subhead">Dodatkowe urządzenia i czujnik podpięte do GPIO</h1>

                <!-- A single blog post -->
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category post-category-design" href="#">Konfiguracja opcjonalna</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p><a class="post-category post-category-pure" href="#">Uwaga</a> na dzień dzisiejszy możliwe jest podłączenie tylko jednego czujnika temperatury DS18B20. Dla sterowania HTML zaimplementowany jest tylko zewnętrzny włącznik</p>
                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="pin_2_mode">PIN 2 [GPIO3]</label>
                                    <select id="pin_2_mode">
                                        <option value="0" selected="selected">Brak</option>
                                        <option value="1">Przekaźnik</option>
                                        <option value="2">Zewnętrzny włącznik</option>
                                        <option value="3">Czujnik temperatury DS18B20</option>
                                    </select>
                                </div>
                                <div class="pure-control-group">
                                    <label for="pin_3_mode">PIN 3 [GPIO1]</label>
                                    <select id="pin_3_mode">
                                        <option value="0" selected="selected">Brak</option>
                                        <option value="1">Przekaźnik</option>
                                        <option value="2">Zewnętrzny włącznik</option>
                                        <option value="3">Czujnik temperatury DS18B20</option>
                                    </select>
                                </div>
                                <div class="pure-control-group">
                                    <label for="pin_5_mode">PIN 5 [GPIO14]</label>
                                    <select id="pin_5_mode">
                                        <option value="0" selected="selected">Brak</option>
                                        <option value="1">Przekaźnik</option>
                                        <option value="2">Zewnętrzny włącznik</option>
                                        <option value="3">Czujnik temperatury DS18B20</option>
                                    </select>
                                </div>

                            </fieldset>
                        </form>
                    </div>
                </section>
            </div>

            <!-- DS18B20 -->
            <div class="posts">
                <h1 class="content-subhead">Czujnik temperatury</h1>

                <!-- A single blog post -->
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category" href="#">Tylko dla sterowania MQTT</a><a class="post-category post-category-design" href="#">Konfiguracja opcjonalna</a>
                        </p>
                    </header>

                    <div class="post-description">
                        <p>DS18B20 jest obsługiwanym czujnikiem temperatury. Możliwe jest podłaczenie tylko jednego czujnika temperatury.</p>

                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="ds18b20_interval">Odczyty co</label>
                                    <input id="ds18b20_interval" type="number" value="600">
                                    <span class="pure-form-message-inline">sekund</span>
                                </div>
                                <div class="pure-control-group">
                                    <label for="ds18b20_correction">Korekta wartości o</label>
                                    <input id="ds18b20_correction" type="number" value="0">
                                    <span class="pure-form-message-inline">stopni</span>
                                </div>
                            </fieldset>
                        </form>


                    </div>
                </section>
            </div>

            <!-- External Relay -->
            <div class="posts">
                <h1 class="content-subhead">Konfiguracja dodatkowego przekaźnika </h1>
                <!-- A single blog post -->
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category" href="#">Tylko dla sterowania MQTT</a><a class="post-category post-category-design" href="#">Konfiguracja opcjonalna</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p>Każdy dodatkowy przekaźnik powinnien mieć unikalną nazwę. Nazwa przekaźnika definiuje dedykowany temat MQTT dla przekaźnika z tematu zdefiniowanego w sekcji MQTT broker oraz poniżej nazwy. np /sonoff/nazwa_przekaznika/</p>                        </p>

                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="external_relay_name">Nazwa</label>
                                    <input id="external_relay_name" type="text" value="przekaznik-1">
                                    <span class="pure-form-message-inline">Informacja jest wymagana</span>
                                </div>
                                <p>Zachowanie się przekaźnia po przywróceniu zasilania lub ponownego podłączenia się do brokera MQTT (tyko dla sterowania przez MQTT)</p>
                                <div class="pure-control-group">
                                    <label for="external_relay_power_restored" class="pure-checkbox">Przywrócenie zasilania</label>
                                    <select id="external_relay_power_restored">
                                        <option value="0">Wyłączony</option>
                                        <option value="1">Włączony</option>
                                        <option value="2" selected="selected">Ostatnia zapamiętana wartość</option>
                                    </select>
                                </div>
                                <div class="pure-control-group">
                                    <label for="external_relay_mqtt_connected" class="pure-checkbox">Podłączony do MQTT</label>
                                    <select id="external_relay_mqtt_connected">
                                        <option value="0">Wyłączony</option>
                                        <option value="1">Włączony</option>
                                        <option value="2" selected="selected">Ostatnia zapamiętana wartość</option>
                                        <option value="3">Wartość z systemu sterowania</option>
                                    </select>                                </div>

                            </fieldset>
                        </form>

                    </div>
                </section>
            </div>

            <!-- External switch -->
            <div class="posts">
                <h1 class="content-subhead">Zewnętrzny włącznik</h1>
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category post-category-design" href="#">Opcjonalne</a><a class="post-category" href="#">Dla sterowania MQTT</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p>Zewnętrzny przełącznik steruje tylko wbudowanym przekaźnikiem. Ustawienie czułości włącznika należy ustawić pod indywidulane potrzeby. Wysoka czułości może powodować, że przekaźnik może zmieniać swój stan nadmiernie dla niektórych włączników</p>

                        <div class="pure-form pure-form-aligned">
                            <fieldset>
                                    <div class="pure-control-group">
                                        <label for="sensitivity">Czułość</label>
                                        <select id="sensitivity">
                                            <option value="0">Niska</option>
                                            <option value="1" selected="selected">Średnia</option>
                                            <option value="2">Wysoka</option>
                                        </select>
                                    </div>
                            </fieldset>

                        </div>
                    </div>
                </section>
            </div>

            <!-- Upgrade -->
            <div class="posts">
                <h1 class="content-subhead">Aktualizacja firmware </h1>
                <section class="post">
                    <header class="post-header">
                        <p class="post-meta">
                            <a class="post-category post-category-pure" href="#">Tylko dla zaawansowanych</a>
                        </p>
                    </header>
                    <div class="post-description">
                        <p><a class="post-category post-category-js" href="#">Uwaga</a> Upewnij się że wgrywasz odpowiednie oprogramowanie. Podczas aktualizacji firmware nie można odłączać urządzenia od zasilania.</p>
                        <p> Po zakończeniu aktualizacji urządzenie zostanie automatycznie zresetowane.</p>
                        <form class="pure-form pure-form-aligned">
                            <fieldset>
                                <div class="pure-control-group">
                                    <label for="sensitivity">Wybierz firmware</label>
                                    <input type="file" name="firmware_file" accept=".bin">
                                </div>

                            <div class="pure-controls">
                                <label for="ce" class="pure-checkbox">
                                    <input id="ce" name="clear_eeprom" type="checkbox"> Wyczyścić zawartośc pamięci przy aktualizacji?
                                </label>
                            </div>
                            </fieldset>

                            <button type="submit" class="button-success pure-button">Aktualizuj</button>
                        </form>
                    </div>
                </section>
            </div>


            <button type="submit" class="button-error pure-button">Wyjdź bez zapisywania</button>
            <button type="submit" class="button-warning pure-button">Zapisz</button>
            <button type="submit" class="button-success pure-button">Zapisz i wyjdź z konfiguracji</button>

            </form>


            <script type="text/javascript">
               hide('MQTTConfig');
            </script>

            <div class="footer">
                <div class="pure-menu pure-menu-horizontal">
                    <ul>
                        <li class="pure-menu-item"><a href="http://twitter.com/yuilibrary/" class="pure-menu-link">Wersja beta 1</a></li>
                        <li class="pure-menu-item"><a href="https://github.com/tschaban/AFE-Firmware/blob/master/LICENSE" class="pure-menu-link">Licencja</a></li>
                        <li class="pure-menu-item"><a href="http://smart-house.adrian.czabanowski.com/forum/firmware-do-przelacznika-sonoff/" class="pure-menu-link">Pomoc</a></li>
                        <li class="pure-menu-item"><a href="https://github.com/tschaban/AFE-Firmware" class="pure-menu-link">GitHub</a></li>
                    </ul>
                </div>
            </div>


    </div>
</div>
</body>
</html>
